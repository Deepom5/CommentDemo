{"ast":null,"code":"import _slicedToArray from\"/Users/deepomchowdhury/Downloads/CommentsDemo/CommentDemo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import\"./Styles/Comment.scss\";import AddComment from\"./AddComment\";import DeleteModal from\"./DeleteModal\";import CommentVotes from\"./CommentVotes\";import CommentHeader from\"./CommentHeader\";import CommentFooter from\"./CommentFooter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Reply=function Reply(_ref){var commentData=_ref.commentData,commentPostedTime=_ref.commentPostedTime,updateScore=_ref.updateScore,addNewReply=_ref.addNewReply,editComment=_ref.editComment,deleteComment=_ref.deleteComment,setDeleteModalState=_ref.setDeleteModalState;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),replying=_useState2[0],setReplying=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),time=_useState4[0],setTime=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),vote=_useState6[0],setVoted=_useState6[1];var _useState7=useState(commentData.score),_useState8=_slicedToArray(_useState7,2),score=_useState8[0],setScore=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),editing=_useState10[0],setEditing=_useState10[1];var _useState11=useState(commentData.content),_useState12=_slicedToArray(_useState11,2),content=_useState12[0],setContent=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),deleting=_useState14[0],setDeleting=_useState14[1];// get time from comment posted\nvar createdAt=new Date(commentData.createdAt);var today=new Date();var differenceInTime=today.getTime()-createdAt.getTime();useEffect(function(){setTime(commentPostedTime(differenceInTime));localStorage.setItem(\"voteState\",vote);},[differenceInTime,commentPostedTime,vote]);// adding reply\nvar addReply=function addReply(newReply){addNewReply(newReply);setReplying(false);};var commentContent=function commentContent(){var text=commentData.content.trim().split(\" \");var firstWord=text.shift().split(\",\");return!editing?/*#__PURE__*/_jsxs(\"div\",{className:\"comment-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"replyingTo\",children:firstWord}),text.join(\" \")]}):/*#__PURE__*/_jsx(\"textarea\",{className:\"content-edit-box\",value:content,onChange:function onChange(e){setContent(e.target.value);}});};var updateComment=function updateComment(){editComment(content,commentData.id,\"reply\");setEditing(false);};// delete comment\nvar deleteReply=function deleteReply(){deleteComment(commentData.id,\"reply\");setDeleting(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"comment-container \".concat(commentData.replies[0]!==undefined?\"gap\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comment\",children:[/*#__PURE__*/_jsx(CommentVotes,{vote:vote,setVoted:setVoted,score:score,setScore:setScore,updateScore:updateScore,commentData:commentData}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment--body\",children:[/*#__PURE__*/_jsx(CommentHeader,{commentData:commentData,setReplying:setReplying,setDeleting:setDeleting,setDeleteModalState:setDeleteModalState,setEditing:setEditing,time:time}),commentContent(),editing&&/*#__PURE__*/_jsx(\"button\",{className:\"update-btn\",onClick:updateComment,children:\"update\"})]}),/*#__PURE__*/_jsx(CommentFooter,{vote:vote,setVoted:setVoted,score:score,setScore:setScore,updateScore:updateScore,commentData:commentData,setReplying:setReplying,setDeleting:setDeleting,setDeleteModalState:setDeleteModalState,setEditing:setEditing})]}),replying&&/*#__PURE__*/_jsx(AddComment,{buttonValue:\"reply\",addComments:addReply,replyingTo:commentData.username}),commentData.replies.map(function(reply){return/*#__PURE__*/_jsx(Reply,{commentData:reply,commentPostedTime:commentPostedTime,addReply:addReply},reply.id);}),deleting&&/*#__PURE__*/_jsx(DeleteModal,{setDeleting:setDeleting,deleteComment:deleteReply,setDeleteModalState:setDeleteModalState})]});};export default Reply;","map":{"version":3,"names":["useState","useEffect","AddComment","DeleteModal","CommentVotes","CommentHeader","CommentFooter","jsx","_jsx","jsxs","_jsxs","Reply","_ref","commentData","commentPostedTime","updateScore","addNewReply","editComment","deleteComment","setDeleteModalState","_useState","_useState2","_slicedToArray","replying","setReplying","_useState3","_useState4","time","setTime","_useState5","_useState6","vote","setVoted","_useState7","score","_useState8","setScore","_useState9","_useState10","editing","setEditing","_useState11","content","_useState12","setContent","_useState13","_useState14","deleting","setDeleting","createdAt","Date","today","differenceInTime","getTime","localStorage","setItem","addReply","newReply","commentContent","text","trim","split","firstWord","shift","className","children","join","value","onChange","e","target","updateComment","id","deleteReply","concat","replies","undefined","onClick","buttonValue","addComments","replyingTo","username","map","reply"],"sources":["/Users/deepomchowdhury/Downloads/CommentsDemo/CommentDemo/src/Components/Reply.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nimport \"./Styles/Comment.scss\";\n\nimport AddComment from \"./AddComment\";\nimport DeleteModal from \"./DeleteModal\";\nimport CommentVotes from \"./CommentVotes\";\nimport CommentHeader from \"./CommentHeader\";\nimport CommentFooter from \"./CommentFooter\";\n\nconst Reply = ({\n  commentData,\n  commentPostedTime,\n  updateScore,\n  addNewReply,\n  editComment,\n  deleteComment,\n  setDeleteModalState,\n}) => {\n  const [replying, setReplying] = useState(false);\n  const [time, setTime] = useState(\"\");\n  const [vote, setVoted] = useState(false);\n  const [score, setScore] = useState(commentData.score);\n  const [editing, setEditing] = useState(false);\n  const [content, setContent] = useState(commentData.content);\n  const [deleting, setDeleting] = useState(false);\n\n  // get time from comment posted\n  const createdAt = new Date(commentData.createdAt);\n  const today = new Date();\n  var differenceInTime = today.getTime() - createdAt.getTime();\n\n  useEffect(() => {\n    setTime(commentPostedTime(differenceInTime));\n    localStorage.setItem(\"voteState\", vote);\n  }, [differenceInTime, commentPostedTime, vote]);\n\n  // adding reply\n  const addReply = (newReply) => {\n    addNewReply(newReply);\n    setReplying(false);\n  };\n\n  const commentContent = () => {\n    const text = commentData.content.trim().split(\" \");\n    const firstWord = text.shift().split(\",\");\n\n    return !editing ? (\n      <div className=\"comment-content\">\n        <span className=\"replyingTo\">{firstWord}</span>\n        {text.join(\" \")}\n      </div>\n    ) : (\n      <textarea\n        className=\"content-edit-box\"\n        value={content}\n        onChange={(e) => {\n          setContent(e.target.value);\n        }}\n      />\n    );\n  };\n\n  const updateComment = () => {\n    editComment(content, commentData.id, \"reply\");\n    setEditing(false);\n  };\n\n  // delete comment\n  const deleteReply = () => {\n    deleteComment(commentData.id, \"reply\");\n    setDeleting(false);\n  };\n\n  return (\n    <div\n      className={`comment-container ${\n        commentData.replies[0] !== undefined ? \"gap\" : \"\"\n      }`}\n    >\n      <div className=\"comment\">\n        <CommentVotes\n          vote={vote}\n          setVoted={setVoted}\n          score={score}\n          setScore={setScore}\n          updateScore={updateScore}\n          commentData={commentData}\n        />\n        <div className=\"comment--body\">\n          <CommentHeader\n            commentData={commentData}\n            setReplying={setReplying}\n            setDeleting={setDeleting}\n            setDeleteModalState={setDeleteModalState}\n            setEditing={setEditing}\n            time={time}\n          />\n\n          {commentContent()}\n          {editing && (\n            <button className=\"update-btn\" onClick={updateComment}>\n              update\n            </button>\n          )}\n        </div>\n        <CommentFooter\n          vote={vote}\n          setVoted={setVoted}\n          score={score}\n          setScore={setScore}\n          updateScore={updateScore}\n          commentData={commentData}\n          setReplying={setReplying}\n          setDeleting={setDeleting}\n          setDeleteModalState={setDeleteModalState}\n          setEditing={setEditing}\n        />\n      </div>\n\n      {replying && (\n        <AddComment\n          buttonValue={\"reply\"}\n          addComments={addReply}\n          replyingTo={commentData.username}\n        />\n      )}\n      {commentData.replies.map((reply) => (\n        <Reply\n          key={reply.id}\n          commentData={reply}\n          commentPostedTime={commentPostedTime}\n          addReply={addReply}\n        />\n      ))}\n\n      {deleting && (\n        <DeleteModal\n          setDeleting={setDeleting}\n          deleteComment={deleteReply}\n          setDeleteModalState={setDeleteModalState}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Reply;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}